@{ ViewBag.Title = "Интерактивная энергетическая карта"; }

<div class="row">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
                crossorigin="anonymous"></script>
        <h1>Прототип карты</h1>
        <br />
                <div class="col-md-8">
                    <div id="mapid"></div>
                </div>
                <div class="col-md-4">
                    <aside>
                        <!--Выпадающий список показателей-->
                        <div class="row">
                            <label>Показатель</label>
                            <div class="col-md-12">
                                <select class="form-select form-select-sm"
                                        aria-label="Регионы"
                                        id="indicators"></select>
                            </div>
                        </div>
                        <br />
                        <!--Область таблиц-->
                        <div class="row">
                            <div class="col-12">
                                <br />
                                <!--Таблица лидеров-->
                                <label style="color: rgb(54, 207, 40); font-weight: bold">Топ лидеров</label>
                                <table class="table" id="topRegions">
                                    <thead>
                                        <tr>
                                            <th scope="col">№</th>
                                            <th scope="col">Регион</th>
                                            <th scope="col">Значение</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="top-row">
                                            <th>n</th>
                                            <th>-----</th>
                                            <th>-----</th>
                                        </tr>
                                        <tr class="top-row">
                                            <th>n</th>
                                            <th>-----</th>
                                            <th>-----</th>
                                        </tr>
                                        <tr class="top-row">
                                            <th>n</th>
                                            <th>-----</th>
                                            <th>-----</th>
                                        </tr>
                                        <tr class="top-row">
                                            <th>n</th>
                                            <th>-----</th>
                                            <th>-----</th>
                                        </tr>
                                    </tbody>
                                </table>
                                <label style="color: rgb(37, 192, 219); font-weight: bold">Близкие показатели</label>
                                <table class="table" id="closeRegions">
                                    <thead>
                                        <tr>
                                            <th scope="col">Регион</th>
                                            <th scope="col">Значение</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="close-row">
                                            <th>-----</th>
                                            <th>-----</th>
                                        </tr>
                                        <tr class="close-row">
                                            <th>-----</th>
                                            <th>-----</th>
                                        </tr>
                                        <tr class="close-row">
                                            <th>-----</th>
                                            <th>-----</th>
                                        </tr>
                                    </tbody>
                                </table>
                                <div>
                                    <input type="button" value="Выгрузить данные" class="btn btn-danger pull-left" onclick="location.href='@Url.Action("GetFile", "Home")'" />
                                </div>
                                <script>
                                    //массив регионов
                                    var regions = [];
                                    //массив показателей
                                    var indicators = [];
                                    indicators.push({ key: "choose_indicators", value: "Выберите показатель" });
                                    //получить список показателей
                                    for ([key, value] of Object.entries(
                                        bounds.features[0].properties
                                    )) {
                                        if ((key == "production_volume") || (key == "production_price") || (key == "consumption_volume") || (key == "production_consumption_difference")) {
                                            var russianKey;
                                            if (key == "production_volume")
                                                russianKey = "Объем выработки";
                                            else if (key == "production_price")
                                                russianKey = "Себестоимость выработки";
                                            else if (key == "consumption_volume")
                                                russianKey = "Объем потребления";
                                            else if (key == "production_consumption_difference")
                                                russianKey = "Разница выработки и потребления";
                                            indicators.push({ key: key, value: russianKey });
                                        }
                                    }
                                    //Добавляем значения в список показателей
                                    indicators.forEach(function (item, i, arr) {
                                        $("#indicators").append(`<option value=${item.key}>${item.value}</option>`);
                                    });
                                </script>
                            </div>
                        </div>
                    </aside>
                </div>
    <script type="text/javascript" src="~/Scripts/logic.js"></script>
    <link rel="stylesheet" href="~/Content/mystyles.css" />
</div>